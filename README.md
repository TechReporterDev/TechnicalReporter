# TechnicalReporter
TechnicalReporter - это универсальная платформа для разработки средств мониторинга и управления оборудованием. Платформа состоит из трёх основных компонентов:
1. SDK для разработчиков модулей мониторинга
2. Служба мониторинга и управления
3. Интерфейс администратора

## Как это работает
Модуль мониторинга предназначен для выполнения административных действий на целевом устройстве. Примерами таких действий могут быть загрузка конфигурации, чтение файла, запуск процесса и т.д. Модуль мониторинга предоставляет службе мониторинга формальное описание возможных действий и синтаксиса входных и выходных данных. В SDK имеются средства терминального доступа, средства разбора и форматирования загруженных данных и т.д. упрощающие разработку модулей мониторинга.

Служба мониторинга и управления использует модули мониторинга для следующих действий:
1. Регистрация экземпляров целевых устройств мониторинга
2. Выполнение административных действий по расписанию или по запросу
3. Ведение архива выходных данных
4. Фильтрация выходных данных
5. Проверка синтаксиса выходных данных
6. Проверка на соответствие регламентам (обычно безопасность)
7. Контроль целостности выходных данных
8. Формирование pdf отчетов
9. Рассылка email

Для администрирования большого количества устройств используется ролевая модель. Для распределения обязанностей между администраторам можно использовать списки доступа к устройствам. Интерфейс администратора работает в браузере. Страницы интерфейса, относящиеся к конкретному устройству, генерируются динамически на основе формального описания модуля мониторинга.

## Текущее состояние
Текущее состояние можно оценить по онлайн демо http://188.227.75.45:8081/.
Логин admin без пароля. Демонстрируется мониторинг устройств под управлением Cisco IOS и Linux.

## Планы по развитию
- Разработка модулей для Windows Server, Cisco ASA, PanOS, FortiOS
- Управление установкой, обновлением и удалением модулей
- Выполнение ядра и интефейса в отдельных службах 
- Динамический анализ данных

## Как собрать
Создать корневую папку разработчика, например C:\dev. Клонировать проект TechnicalReporter в корневую папку разработчика:
```
c:\dev>git clone https://github.com/TechReporterDev/TechnicalReporter.git
```

В корневой папке разработчика создать папку для сторонних библиотек \3rdParty. 
Установить менеджер пакетов vcpkg:
```
c:\dev\3rdParty>git clone https://github.com/Microsoft/vcpkg.git
c:\dev\3rdParty>cd vcpkg
c:\dev\3rdParty\vcpkg>bootstrap-vcpkg.bat
```

Устанавить 64x разрадные пакеты vcpkg
```
set VCPKG_DEFAULT_TRIPLET=x64-windows
vcpkg install boost
vcpkg install curl
vcpkg install dtl
vcpkg install libmysql
vcpkg install libodb
vcpkg install libodb-mysql
vcpkg install libodb-boost
vcpkg install libssh
vcpkg install libxml2
vcpkg install libxslt
vcpkg install podofo[fontconfig]
vcpkg install wt

```
Клонировать в папку 3rdParty проект libxmldiff:
```
c:\dev\3rdParty>git clone https://github.com/rpeyron/libxmldiff.git
```

Открыть солюшен c:\dev\3rdParty\libxmldiff\build\vc2019\xmldiff.sln и собрать для платформы x64. 

Скачать ODB Compiler с сайта разработчика https://codesynthesis.com/products/odb/download.xhtml. 
Распаковать архив в папку c:\dev\3rdParty\odb.

В итоге папка разработчика должна иметь вид:
```
- dev
  - 3rdParty
    - vcpkg
       - vcpkg.exe
       - ...
    - libxmldiff
      - build
      - ...      
    - odb
      - bin
        - odb.exe
      - ...    
  - TecnicalReporter
    - TechnicalReporter.sln
    - install.cmd
    - ...
```

Запускаем TechnicalReporter/install.bat для копирования библиотек и ресурсов в папку сборки проекта
```
C:\dev\TechnicalReporter>install.cmd
```

Собираем солюшен c:\dev\TechnicalReporter\TechnicalReporter.sln
Для запуска сервера TechnicalReporter (TRWebServer.exe) нужно установить MySQL сервер с сайта разработчика.




